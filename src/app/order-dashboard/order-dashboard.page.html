<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
      </ion-buttons>
    <ion-title>Fabric Sales Order</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="scroll-content">
  <ion-grid class="ion-margin">
    <ion-row>
      <ion-col size="4">SO No.</ion-col>
      <ion-col size="5">Company</ion-col>
      <ion-col size="3"> Date</ion-col>
    </ion-row>
    
    <ion-row *ngFor="let sales of order_data | paginate: { itemsPerPage: 10, currentPage: p ,totalItems: total}" (click)="openModal(template,sales)">
      <ion-col size="4">{{ sales.transaction_number }}</ion-col>
      <ion-col size="5">{{ sales.company_ledger_name }}</ion-col>
      <ion-col size="3">{{ sales.created_date }}</ion-col>
    </ion-row>
  </ion-grid>
  <ng-template #template>
  <div class="modal-header">
    <h4 class="modal-title pull-left">Fabric Sales Order</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <ion-card class="ion-card-list">
      <ion-card-content >
        <ion-item class="content_card">
          <ion-title class="content_card" slot="start">Transaction No.</ion-title>
          <ion-label>{{ sales.transaction_number }}</ion-label>
        </ion-item>
        <ion-item class="content_card">
          <ion-title class="content_card" slot="start">Company</ion-title>
          <ion-label>{{ sales.company_ledger_name }}</ion-label>
        </ion-item>
        <ion-item class="content_card">
          <ion-title class="content_card" slot="start">Transaction Date</ion-title>
          <ion-label>{{ sales.created_date }}</ion-label>
        </ion-item>
        <ion-item class="content_card">
          <ion-title class="content_card" slot="start">Dispatch No.</ion-title>
          <ion-label>{{ sales.fabric_sales_dispatches.transaction_number }}</ion-label>
        </ion-item>
        <ion-item class="content_card">
          <ion-title class="content_card" slot="start">Status</ion-title>
          <ion-label>{{ sales.transaction_status_display }}</ion-label>
        </ion-item>
        <ion-item class="content_card">
          <ion-title class="content_card" slot="start">Remarks</ion-title>
          <ion-label>{{ sales.remarks }}</ion-label>
        </ion-item>
  
  </ion-card-content>
</ion-card>
  </div>
</ng-template>
  <div class="list">
    <pagination-controls (pageChange)="pageChanged($event)"></pagination-controls>
  </div>

</ion-content>